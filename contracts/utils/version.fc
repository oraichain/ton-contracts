#include "../imports/stdlib.fc";
#include "./varint.fc";

(int) version::encode_length(cell version) {
    var ds = version.begin_parse();
    var length = 0;

    if (ds.slice_empty?() != -1) {
        var block_uint = ds~load_uint(32);
        length += varint::encode_length(0, block_uint) + 1;
    }

    if (ds.slice_empty?() != -1) {
        var app_uint = ds~load_uint(32);
        length += varint::encode_length(0, app_uint) + 1;
    }

    return length;
}
